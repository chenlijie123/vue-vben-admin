var B=Object.defineProperty,$=Object.defineProperties;var x=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var I=(o,e,t)=>e in o?B(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,k=(o,e)=>{for(var t in e||(e={}))D.call(e,t)&&I(o,t,e[t]);if(_)for(var t of _(e))G.call(e,t)&&I(o,t,e[t]);return o},b=(o,e)=>$(o,x(e));import{u as P}from"./useFormDesignState.a5685dac.js";import{c as h}from"./index.c8facd79.js";import{a as U,I as w,b6 as A,w as E,bc as N,au as V,aw as C,o as i,h as u,F as O,az as F,i as d,n as l,B as y}from"./index.e4c75133.js";import"./isNumber.c5f53a02.js";const S=Object.assign({success:o=>{},error:o=>{},warning:o=>{},info:o=>{}});const T=U({name:"FormOptions",components:{Input:w,Icon:A},setup(){var r;const o=E({}),{formConfig:e}=P(),t=((r=e.value.currentItem)==null?void 0:r.component)==="TreeSelect"?"treeData":"options",c=()=>{var s,a,f,g;(a=(s=e.value.currentItem)==null?void 0:s.componentProps)!=null&&a[t]||(e.value.currentItem.componentProps[t]=[]);const n=((g=(f=e.value.currentItem)==null?void 0:f.componentProps)==null?void 0:g[t].length)+1;e.value.currentItem.componentProps[t].push({label:`\u9009\u9879${n}`,value:""+n})},m=n=>{var s,a;h((a=(s=e.value.currentItem)==null?void 0:s.componentProps)==null?void 0:a[t],n)},v=()=>{var n,s;(s=(n=e.value.currentItem)==null?void 0:n.columns)==null||s.push({span:12,children:[]})},p=n=>{if(n===0)return S.warning("\u8BF7\u81F3\u5C11\u4FDD\u7559\u4E00\u4E2A\u6805\u683C");h(e.value.currentItem.columns,n)};return b(k({},N(o)),{formConfig:e,addOptions:c,deleteOptions:m,key:t,deleteGridOptions:p,addGridOptions:v})}}),j={key:0},z={class:"options-box"},L=["onClick"],R={key:1},q={class:"options-box"},H=["onClick"];function J(o,e,t,c,m,v){const p=C("Input"),r=C("Icon");return i(),u("div",null,[["Grid"].includes(o.formConfig.currentItem.component)?(i(),u("div",j,[(i(!0),u(O,null,F(o.formConfig.currentItem.columns,(n,s)=>(i(),u("div",{key:s},[d("div",z,[l(p,{value:n.span,"onUpdate:value":a=>n.span=a,class:"options-value"},null,8,["value","onUpdate:value"]),d("a",{class:"options-delete",onClick:a=>o.deleteGridOptions(s)},[l(r,{icon:"ant-design:delete-outlined"})],8,L)])]))),128)),d("a",{onClick:e[0]||(e[0]=(...n)=>o.addGridOptions&&o.addGridOptions(...n))},[l(r,{icon:"ant-design:file-add-outlined"}),y(" \u6DFB\u52A0\u6805\u683C ")])])):(i(),u("div",R,[(i(!0),u(O,null,F(o.formConfig.currentItem.componentProps[o.key],(n,s)=>(i(),u("div",{key:s},[d("div",q,[l(p,{value:n.label,"onUpdate:value":a=>n.label=a},null,8,["value","onUpdate:value"]),l(p,{value:n.value,"onUpdate:value":a=>n.value=a,class:"options-value"},null,8,["value","onUpdate:value"]),d("a",{class:"options-delete",onClick:a=>o.deleteOptions(s)},[l(r,{icon:"ant-design:delete-outlined"})],8,H)])]))),128)),d("a",{onClick:e[1]||(e[1]=(...n)=>o.addOptions&&o.addOptions(...n))},[l(r,{icon:"ant-design:file-add-outlined"}),y(" \u6DFB\u52A0\u9009\u9879 ")])]))])}var Y=V(T,[["render",J],["__scopeId","data-v-30316c26"]]);export{Y as default};
