import k from"./CollapseItem.f66bf140.js";import O from"./FormComponentPanel.2ac70042.js";import R from"./JsonModal.49370e3e.js";import G from"./index.25402d49.js";import V from"./useForm.efe6ee58.js";import j from"./Toolbar.2c11f0f0.js";import N from"./PropsPanel.7ed71e15.js";import q from"./ImportJsonModal.349288de.js";import Q from"./CodeModal.8b6f9297.js";import"./index.20a9f230.js";import{au as U,a as X,v as l,fA as Y,a4 as c,o as Z,h as oo,n,z as i,k as a,fB as B,cD as F,fC as eo,ay as to,az as ro,aA as no,aB as so,aC as ao,bI as lo,F as io,ah as f}from"./index.e4c75133.js";import{g as P,f as mo}from"./index.c8facd79.js";import{b as po,c as uo,l as co}from"./formItemConfig.3ba6559b.js";import{g as fo}from"./formItemPropsConfig.2cd451cf.js";import"./vuedraggable.umd.584fcdbb.js";import"./LayoutItem.bbf0ea49.js";import"./FormNode.a9c3c724.js";import"./FormNodeOperate.aa615793.js";import"./useFormDesignState.a5685dac.js";import"./index.75f98e09.js";import"./index.071f865c.js";/* empty css              */import"./Form.aef92efb.js";import"./Col.ab78fa67.js";import"./useFlexGapSupport.3ce44ffd.js";import"./_baseIteratee.5a1d74c6.js";import"./get.30beaf8d.js";import"./useSize.aaba198d.js";import"./index.dc2534e2.js";import"./DeleteOutlined.29d4cb61.js";import"./index.724a653b.js";import"./useRefs.ec3a6ac6.js";import"./index.e1cb3c1d.js";import"./index.a75532f7.js";/* empty css              */import"./PreviewCode.a41b6dea.js";import"./index.aaa387cd.js";import"./FormRender.503326a6.js";import"./BasicForm.bd09aa6c.js";import"./FormItem.vue_vue_type_script_lang.4d28784f.js";import"./componentMap.d2d4ae54.js";import"./index.88e45b7c.js";import"./Checkbox.f055b953.js";import"./index.539ebec8.js";import"./index.6bd158f7.js";import"./index.5e95530e.js";import"./index.421493aa.js";import"./index.57809736.js";import"./index.4f4162f7.js";import"./useFormItem.e7937f05.js";import"./RadioButtonGroup.e357ce64.js";import"./index.77b20779.js";import"./eagerComputed.9c87a866.js";import"./transButton.70c4c2ad.js";import"./index.330b00fb.js";import"./index.130ed745.js";import"./useWindowSizeFn.7fc45049.js";import"./FullscreenOutlined.1953441f.js";import"./index.88df5d1c.js";import"./index.af75b2ab.js";import"./isNumber.c5f53a02.js";import"./uuid.2b29000c.js";import"./download.986cc0da.js";import"./base64Conver.08b9f4ec.js";import"./index.2aa20a36.js";import"./index.57c1f991.js";import"./uniqBy.0b7ab2f0.js";import"./useForm.f16d83f4.js";import"./FormProps.d12ea061.js";import"./FormItemProps.3d5ef6c9.js";import"./RuleProps.45d62a5b.js";import"./ComponentProps.f4b63155.js";import"./FormOptions.21bf2bfb.js";import"./FormItemColumnProps.5e71b270.js";import"./index.c2206eee.js";import"./PlusOutlined.bfdd3ce8.js";import"./index.a3bbc08f.js";const vo=X({__name:"index",props:{title:{type:String,default:"v-form-antd\u8868\u5355\u8BBE\u8BA1\u5668"}},setup(ho){const $=l(null),A=l(null),b=l(null),I=l(null),M=l(null),w=l(null),L=l({}),t=l({schemas:[],layout:"horizontal",labelLayout:"flex",labelWidth:100,labelCol:{},wrapperCol:{},currentItem:{component:"",componentProps:{}},activeKey:1}),K=e=>{e.schemas=e.schemas||[],e.schemas.forEach(o=>{o.colProps=o.colProps||{span:24},o.componentProps=o.componentProps||{},o.itemProps=o.itemProps||{}}),t.value=e},z=Y(t,{deep:!0,capacity:20,parse:e=>{const o=f(e),{currentItem:r,schemas:s}=o,d=s&&s.find(m=>m.key===(r==null?void 0:r.key));return d&&(o.currentItem=d),o}}),p=e=>{t.value.currentItem=e,D(e.key?t.value.activeKey===1?2:t.value.activeKey:1)},S=e=>{e.colProps=e.colProps||{},e.colProps.span=fo.span},v=(e,o)=>{},g=e=>{const o=f(e);return S(o),P(o),o},h=e=>{var r;const o=f(e);if(S(o),P(o),!((r=t.value.currentItem)!=null&&r.key)){p(o),t.value.schemas&&t.value.schemas.push(o);return}E(o,!1)},J=e=>{const o=f(e);return o.component==="Grid"&&mo([e],r=>{P(r)}),o},E=(e=t.value.currentItem,o=!0)=>{var d;const r=(d=t.value.currentItem)==null?void 0:d.key,s=m=>{m.some((y,C)=>{var x;if(y.key===r){o?m.splice(C,0,J(y)):m.splice(C+1,0,e);const _={newIndex:C+1};return H(_,m,o),!0}["Grid","Tabs"].includes(y.component)&&((x=y.columns)==null||x.forEach(_=>{s(_.children)}))})};t.value.schemas&&s(t.value.schemas)},H=({newIndex:e},o,r=!1)=>{const s=o[e];r&&P(s),p(s)},u=e=>{const o=f(t.value);e==null||e.showModal(o)},D=e=>{t.value.activeKey=e},T=()=>{t.value.schemas=[],p({component:""})},W=(e,o)=>L.value[e]=o;return c("formModel",L),c("setFormModelMethod",W),c("formConfig",t),c("historyReturn",z),c("formDesignMethods",{handleBeforeColAdd:H,handleCopy:E,handleListPush:h,handleSetSelectItem:p,handleAddAttrs:v,setFormConfig:K}),(e,o)=>(Z(),oo(io,null,[n(a(lo),null,{default:i(()=>[n(a(B),{class:"left sider",collapsible:"",collapsedWidth:"0",width:"270",zeroWidthTriggerStyle:{"margin-top":"-70px","background-color":"gray"},breakpoint:"md"},{default:i(()=>[n(a(F),{title:"\u57FA\u7840\u63A7\u4EF6"},{default:i(()=>[n(k,{list:a(po),handleListPush:g,onAddAttrs:v,onHandleListPush:h},null,8,["list"])]),_:1}),n(a(F),{title:"\u81EA\u5B9A\u4E49\u63A7\u4EF6"},{default:i(()=>[n(k,{list:a(uo),onAddAttrs:v,handleListPush:g,onHandleListPush:h},null,8,["list"])]),_:1}),n(a(F),{title:"\u5E03\u5C40\u63A7\u4EF6"},{default:i(()=>[n(k,{list:a(co),handleListPush:g,onAddAttrs:v,onHandleListPush:h},null,8,["list"])]),_:1})]),_:1}),n(a(eo),null,{default:i(()=>[n(j,{onHandleOpenJsonModal:o[0]||(o[0]=r=>u(A.value)),onHandleOpenImportJsonModal:o[1]||(o[1]=r=>u(b.value)),onHandlePreview:o[2]||(o[2]=r=>u(I.value)),onHandlePreview2:o[3]||(o[3]=r=>u(M.value)),onHandleOpenCodeModal:o[4]||(o[4]=r=>u(w.value)),onHandleClearFormItems:T}),n(O,{"current-item":t.value.currentItem,data:t.value,onHandleSetSelectItem:p},null,8,["current-item","data"])]),_:1}),n(a(B),{class:"right sider",collapsible:"",reverseArrow:!0,collapsedWidth:"0",width:"270",zeroWidthTriggerStyle:{"margin-top":"-70px","background-color":"gray"},breakpoint:"lg"},{default:i(()=>[n(N,{ref_key:"propsPanel",ref:$,activeKey:t.value.activeKey},to({_:2},[ro(t.value.schemas,r=>({name:`${r.component}Props`,fn:i(s=>[no(e.$slots,`${r.component}Props`,so(ao({formItem:s,props:s.componentProps})),void 0,!0)])}))]),1032,["activeKey"])]),_:3})]),_:3}),n(R,{ref_key:"jsonModal",ref:A},null,512),n(Q,{ref_key:"codeModal",ref:w},null,512),n(q,{ref_key:"importJsonModal",ref:b},null,512),n(G,{ref_key:"eFormPreview",ref:I,formConfig:t.value},null,8,["formConfig"]),n(V,{ref_key:"eFormPreview2",ref:M,formConfig:t.value},null,8,["formConfig"])],64))}});var Te=U(vo,[["__scopeId","data-v-c9a796d2"]]);export{Te as default};
